<div class="ts-container">
    <div class="clearfix searchspin">
        <dl style="height: 30px;">
            <dt>筛选条件:</dt>
            <dd>
                <form action="" method="get">
                    条件筛选:
                    <select name="ts-field">
                        <option value="id">角色id</option>
                        <option value="name">名称</option>
                        <option value="description">描述</option>
                        <option value="ctime">创建时间</option>
                        <option value="utime">修改时间</option>
                        <option value="status">状态</option>
                    </select>
                    <select class="ts-select-type" name="where[id][0]">
                        <option value="eq">=</option>
                        <option value="gt">&gt;</option>
                        <option value="lt">&lt;</option>
                        <option value="like">像</option>
                    </select>
                    <input class="ts-value" name="where[id][1]" value="">
                    <button class="btn btn-primary btn-xs ts-search">收索</button>
                    <br/>
                    <br/>
                </form>
            </dd>
        </dl>
        <a class="kehu uploadify-button" href="{{'U' | F:'edit'}}" role="button">添加角色</a>
    </div>
    <div class="spin-cont">
        <form action="" method="get" class="data-list">
            <table class="table table-hover table-bordered">
                <tr class="active">
                    <th style="width: 35px;"><input class="select-all" type="checkbox" value=""></th>
                    <th ts-order="id" class="ts-order"
                        order-desc="{{if order.id=='desc'}}1{{else}}0{{/if}}">
                        角色id <a>{{if order.id=='desc'}}▼{{else}}▲{{/if}}</a>
                    </th>
                    <th ts-order="name" class="ts-order"
                        order-desc="{{if order.name=='desc'}}1{{else}}0{{/if}}">
                        名称 <a>{{if order.name=='desc'}}▼{{else}}▲{{/if}}</a>
                    </th>
                    <th ts-order="description" class="ts-order"
                        order-desc="{{if order.description=='desc'}}1{{else}}0{{/if}}">
                        描述 <a>{{if order.description=='desc'}}▼{{else}}▲{{/if}}</a>
                    </th>
                    <th ts-order="ctime" class="ts-order"
                        order-desc="{{if order.ctime=='desc'}}1{{else}}0{{/if}}">
                        创建时间 <a>{{if order.ctime=='desc'}}▼{{else}}▲{{/if}}</a>
                    </th>
                    <th ts-order="utime" class="ts-order"
                        order-desc="{{if order.utime=='desc'}}1{{else}}0{{/if}}">
                        修改时间 <a>{{if order.utime=='desc'}}▼{{else}}▲{{/if}}</a>
                    </th>
                    <th style="width: 150px">操作</th>
                </tr>
                {{each data as row i}}
                <tr>
                    <td>{{if row.id!=1}}<input name="id[]" type="checkbox" value="{{row.id}}">{{/if}}</td>
                    <td>
                        {{row.id}}
                    </td>
                    <td>
                        {{row.name}}
                    </td>
                    <td>
                        {{row.description}}
                    </td>
                    <td>
                        {{'dateFormat' | F:row.ctime,'yyyy-MM-dd hh:mm:ss'}}
                    </td>

                    <td>
                        {{'dateFormat' | F:row.utime,'yyyy-MM-dd hh:mm:ss'}}
                    </td>
                    <td><a class="gray" href="{{'U' | F:'edit'}}?id={{row.id}}">修改</a>&nbsp;&nbsp;
                        <a class="gray user-list" data-id="{{row.id}}" href="{{'U' | F:'userList'}}?id={{row.id}}">成员列表</a>
                        {{if row.id!=1}}&nbsp;&nbsp;
                        <a href="#" class="ts_remove gray" id="{{row.id}}">
                            删除
                        </a>
                        {{/if}}
                    </td>
                </tr>
                {{/each}}
            </table>
        </form>
        <div class="clearfix mt16">
            <button class="gray-btn remove_select" type="button">删除选中</button>
            <nav style="float: right">
                <ul class="pagination">
                    <li
                    {{if page==1}}class="disabled"{{/if}}><a href="#" aria-label="Previous"><span
                        aria-hidden="true">«</span></a></li>
                    {{if (page-3)>0}}
                    <li><a href="#">{{page-3}}</a></li>
                    {{/if}}
                    {{if (page-2)>0}}
                    <li><a href="#">{{page-2}}</a></li>
                    {{/if}}
                    {{if (page-1)>0}}
                    <li><a href="#">{{page-1}}</a></li>
                    {{/if}}
                    <li class="active"><a href="#">{{page}}</a></li>
                    {{if (page+1)<=pageCount}}
                    <li><a href="">{{page+1}}</a></li>
                    {{/if}}
                    {{if (page+2)<=pageCount}}
                    <li><a href="#">{{page+2}}</a></li>
                    {{/if}}
                    {{if (page+3)<=pageCount}}
                    <li><a href="#">{{page+3}}</a></li>
                    {{/if}}
                    <li
                    {{if page==pageCount}}class="disabled"{{/if}}><a href="#" aria-label="Next"><span
                        aria-hidden="true">»</span></a></li>
                </ul>
            </nav>
        </div>

    </div>
</div>

<script id="userList" type="text/html">
    <div class="spin-cont">
        <table class="table table-hover table-bordered">
            <tr class="active"><th>用户名</th><th>姓名</th></tr>
            {{$1}}if data.length{{$2}}
                {{$1}}each data as row i{{$2}}
                <tr><td>{{$1}}row.uname{{$2}}</td><td>{{$1}}row.name{{$2}}</td></tr>
                {{$1}}/each{{$2}}
            {{$1}}else{{$2}}
               <tr><td colspan="2"><h3>暂时还没有成员</h3></td></tr>
            {{$1}}/if{{$2}}
        </table>
    </div>
</script>



